# 前端规范

## 一、文件规范

### 1.1 文件夹创建

#### 1.1.1 根目录

所有文件改动均需`通过讨论`后进行修改

#### 1.1.2 src

该目录下所有文件夹名称均需使用`复数`形式（特殊情况除外）

#### 1.1.3 apis

用于存放接口，目录结构应该`与pages目录保持一致`，多次使用的接口`以主位置为主`

#### 1.1.4 assets

用于存放静态文件，目录结构应该`与pages目录保持一致`，多次使用的接口`以主位置为主`

#### 1.1.4 components

组件需`创建外部文件夹`，名称`与vue文件保持一致`，vue文件内部需要的组件，统一放置在当前目录下的components仅供当前组件使用

#### 1.1.5 composables

所有`含状态`的JS、TS`公用逻辑`文件放置于此，可创建二级目录进行归类

#### 1.1.6 interfaces 

放置`全局`使用的`类型`定义文件

#### 1.1.7 layouts

放置项目布局文件，默认均以`default`为主，如若需要组件，则在当前目录下创建components

#### 1.1.8 modules

用于放置项目`生产所需`的主要插件，`非必要不能改动`

#### 1.1.9 pages

该目录为页面路由目录，除401、404、login页等特殊页面尽量`不要直接创建vue文件`,

#### 1.1.10 stores

存放pinia`全局状态`相关文件

#### 1.1.11 styles

存放项目`全局`相关的`样式`文件，必要时可创建二级目录

#### 1.1.12 utils

用于存放`无状态`的全局`公用逻辑`JS、TS文件

### 1.2 文件命名

#### 1.2.1 pages路由文件命名

使用`kebab-case`（短横线连接式命名法——短横线连接），子路由文件夹需关联主路由文件名称，自需组件放置当前目录下的components

#### 1.2.2 components公共组件命名

使用`PascalCase`（大驼峰式命名法 —— 首字母大写）

#### 1.2.3 静态文件命名

使用`kebab-case`（短横线连接式命名法——短横线连接）

#### 1.2.4 SCSS、JS、TS文件命名

使用`camelCase`（小驼峰式命名法 —— 首字母小写）

#### 1.2.5 stores与composables

文件命名最好使用单个单词`Abc`

`stores`内部导出名称统一为`useAbcStore`

`composables`内部导出名称统一为`useAbc`



## 二、编码规范

### 2.1 CSS规范

#### 2.1.1 命名

使用`kebab-case`（短横线连接式命名法——短横线连接）式命名法，

#### 2.1.2 规范

遵循`BEM`命名规范

Bem是块（block）、元素（element）、修饰符（modifier）的简写

-中划线：仅作为`连字符`使用，表示某个块或者某个子元素的多单词之间的连接记号。

__双下划线：双下划线用来连接`块和块的子元素`

_单下划线：单下划线用来描述一个块或者块的子元素的一种`状态`

#### 2.1.3 编写

`UI`库样式全局样式`单独修改`，`不允许嵌套其他class`。页面需要单独样式的单独进行处理。

能使用`flex`绝不使用position与float。

### 2.2 JS规范

1. 方法名、参数名、变量名、局部变量都统一使用`小驼峰camelCase`命名风格。
2. 方法命名必须是全称、尽量语义化；格式：`动词+名词`。
3. `常量`命名全部`大写`，单词间用下划线隔开，力求语义表达完整清楚， 不要嫌名字长。
4. 使用`模板字符串`取代连接字符串。
5. 回调函数统一使用 Promise 函数；回调成功的参数统一为 `res`，错误参数为 `err`。
6. `建议`利用 && 和 || 短路来简化代码。
7. `优先使用`ES6+中新增的语法糖和函数。目的：简化程序，代码灵活和可复用。比如export与import模块化、箭头函数、await/async ， 解构， let ， for…of 等等。
8. 尽量使用`===`。
9. `调试信息` console.log()、debugger使用完`及时删除`。
10. 使用`数组相关方法`代替for循环。

### 2.3 HTML规范

1. 可能`减少<div>嵌套`。过多嵌套（4,5层足够）。
2. 在页面中`尽量避免使用style属性`，即style=“…”，应该尽量使用class或者id来定义新的样式。
3. 文字超出容器需要进行 '...' 省略。
4. 避免使用单独div。

### 2.4 VUE规范

1. 在template模版中使用组件，应使用`PascalCase`模式，并且使用自闭合组件。
2. 属性名称采用`kebab-case`。
3. `props` 必须定义值`类型`（包含JS）。
4. 为v-for设置`Key`值。
5. 规避`v-if`和`v-for`用在一起。
6. 无特殊情况`不允许`使用原生API操作dom。
7. 延迟操作添加`loading`。
8. 使用index作为文件名称时在<script>中添加`name`，用来命名vue文件。
9. 样式尽量添加`scoped`进行样式约束。
10. 避免使用css`子选择器`。
11. vue3中尽量使用`setup`语法糖。
12. `相关逻辑块`处在`统一`位置，禁止提前调用。
13. 一个标签内有多个属性，`属性分行写`。
14. 能使用computed不要使用watch。
15. 定时器、addEventListener、eventBus使用完及时`清除解绑`。
16. 使用`@`与`./`，尽量避免使用../。
17. <route>使用`yaml`格式。
18. template、scrtipt、style间隔一行。
19. 尽量避免长代码，将单独模块`提出`当做`组件`。
20. 组件复用超过两个、逻辑超过80%，要提出组件至全局。

## 三、注释规范

注释的目的：

- 提高代码的可读性，从而提高代码的可维护性

注释的原则：

- `如无必要，勿增注释` ( As short as possible )
- `如有必要，尽量详尽` ( As long as necessary )

###  3.1 HTML 文件注释

#### 3.1.1 单行注释

注释位于要注释代码的上面，`单独占一行`,一般用于简单的描述，如某些状态描述、属性描述等。

####  3.1.2模块注释

一般用于描述模块的名称以及`模块开始与结束`的位置。

注释内容前后各一个空格字符， `<!-- START Comment Text \-->`表示模块开始， `<!-- END Comment Text \-->`表示模块结束，模块与模块之间相隔一行。

#### 3.1.3 嵌套模块注释

当模块注释内再出现模块注释的时候，为了突出主要模块，嵌套模块不再使用。而改用注释写在模块结尾标签`底部，单独一行`。

### 3.2 JavaScript 文件注释

#### 3.3.1 单行注释

单行注释使用 `//`，注释应单独一行写在被注释对象的上方，不要追加在某条语句的后面。

注释行的上方需要有一个空行（**除非注释行上方是一个块的顶部**），以增加可读性.

#### 3.3.2 多行注释

多行注释使用 `/** ... */`，而不是多行的 `//`。

#### 3.3.3 特殊标记

有时我们发现某个可能的 bug，但因为一些原因还没法修复；或者某个地方还有一些待完成的功能，这时我们需要使用相应的特殊标记注释来告知未来的自己或合作者。常用的特殊标记有两种：

`// FIXME `: 说明问题是什么
`// TODO` : 说明还要做什么或者问题的解决方案

以及其他特殊标注。

#### 3.3.4 文档类注释

文档类注释，如函数、类、文件、事件等；`尽量`都使用 [jsdoc](https://blog.csdn.net/Sophie_U/article/details/124824990)`规范。



------

`注：`以上所有命名均需语义化，尽量避免缩写，特殊缩写除外

------

## 四、提交规范

- 样式：整体以UI设计为主，完成度不能低于90%；适当的响应式布局，保证1440分辨率以上可以看到完整功能（特殊系统除外）；大屏页面至少保证1920的完整性，适当的缩放不会出现页面排版错乱问题。
- 用户交互：与用户的交互响应时间，直接触发不能超过200毫秒，间接相应不得超过2秒，超过以上时间必须加loading。
- 接口对接：在后台接口完整情况下，请求方法、传参方式、传参、接收参数、字段对应，必须确保无误。
- 功能：接口提供、UI设计提供、需求完成确定情况下，功能必须100%符合需求（特殊情况除外）。
- 附加逻辑：关闭弹窗同步清除表单内容、变更数据刷新列表、操作成功或失败进行提示等类似不包含在需求之中但属于编码逻辑必须的步骤，必须添加，其他情况不再一一赘述。
- 控制台：不准出现由自己相关代码产生的警告（包括错误使用插件、框架产生的非正常警告）以及报错。
